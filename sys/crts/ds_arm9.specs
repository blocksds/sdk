%include <picolibc.specs>

%rename cpp blocksds_cpp
%rename link blocksds_link

*cpp:
-D__NDS__ -D__BLOCKSDS__ -DARM9 %(blocksds_cpp)

*cc1_cpu:
-mcpu=arm946e-s+nofp

*link:
%(blocksds_link) -T %:getenv(BLOCKSDS /sys/crts/ds_arm9.mem) -T %:getenv(BLOCKSDS /sys/crts/ds_arm9.ld) --gc-sections --no-warn-rwx-segments --use-blx

*startfile:
%:getenv(BLOCKSDS /sys/crts/ds_arm9_crt0%O)

*lib:
%(libgcc)
